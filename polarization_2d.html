<!DOCTYPE html>
<html>
<meta  content="text/html; charset=UTF-8"  http-equiv="content-type">

<head>
    <title>Electric Field Reflection and Transmission</title>
    <link rel="stylesheet" href="static/main.css">
    <!-- <script src="static/math.min.js" type="text/javascript"></script> -->
    <script src="static/coordinate-system.js" type="text/javascript"></script>
    <script src="static/utility-functions.js" type="text/javascript"></script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX","output/HTML-CSS"],
        tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
      });
    </script>
    <script type="text/javascript" async
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

</head>

<body>
<div style="text-align:center" width:700px margin:auto>
    <h2>Plane Wave Polarization</h2>
    <canvas id="canvas" width="400" height="400"></canvas>
    <div style="text-align:center">
        <button id="idTogButton" onclick="toggleButton()">Start</button>
        <button id="idResetButton" onclick="resetButton()">Reset</button>
    </div>
    <p>TE: &nbsp;&nbsp; $r_s = \frac{n_1 - n_2}{n_1 + n_2}$,
           &nbsp;&nbsp; $t_s = \frac{2 n_1}{n_1 + n_2} = 1 + r_s$ </p>
    <p>TM: &nbsp;&nbsp; $r_p = \frac{n_2 - n_1}{n_2 + n_1}$,
           &nbsp;&nbsp; $t_p = \frac{2 n_1}{n_1 + n_2} = 1 - r_p$ </p>
    <br />

    <fieldset>
        <legend>Parameter controls</legend>
        <table cellspacing="0" cellpadding="0">
          <tr>
            <td align="right">
                <label for="idn1">
                    &Psi;&nbsp;</label>
            </td>
            <td>
                <input type="range" id="idpsi" min="0" max="90" value="0"
                       step="1" oninput="psiSliderUpdate(value)">
                <output for="idpsi" id="idpsiValue">0&deg;</output>
            </td>
          </tr>
          <tr>
            <td align="right">
                <label for="iddelta">
                    &delta;&nbsp;</label>
            </td>
            <td>
                <input type="range" id="iddelta" min="-179" max="180"
                    value="0" step="1" oninput="deltaSliderUpdate(value)">
                <output for="iddelta" id="iddeltaValue">0&deg;</output>
            </td>
          </tr>
        </table>
    </fieldset>
</div>


<p id="values" style="text-align:center"></p>

<script>

// console.log( range(-1,1,0.1) );
// console.log( range(-1,1,0.05) );
// console.log( range(-1,1,0.01) );

timerRunning = false;

deg_to_rad = Math.PI/180.;
psi = Number(document.querySelector('#idpsiValue').value) * deg_to_rad;
delta = Number(document.querySelector('#iddeltaValue').value) * deg_to_rad;

//------------------------------------------------------------------------------
// Main code
//------------------------------------------------------------------------------

function psiSliderUpdate(value) {
    document.querySelector('#idpsiValue').innerHTML = value.toString() + "&deg;" ;
    psi = Number(value) * deg_to_rad;
    if (!timerRunning) update();
}

function deltaSliderUpdate(value) {
    document.querySelector('#iddeltaValue').innerHTML = value.toString() + "&deg;";
    delta = Number(value) * deg_to_rad;
    if (!timerRunning) update();
}

function update() {
    var temp
}

</script>

</body>
</html>
